<section class="newsletter bg-primary py-20">
  <div class="max-w-container mx-auto px-4 lg:px-8 text-center">
    <h2 class="font-display font-bold text-3xl lg:text-4xl text-white">
      {%- if section.settings.heading != blank -%}
        {{ section.settings.heading }}
      {%- else -%}
        Get Smarter Skin Tips (and 10% Off)
      {%- endif -%}
    </h2>
    
    {%- if section.settings.subtext != blank -%}
      <p class="mt-4 text-lg text-white opacity-80 max-w-2xl mx-auto">
        {{ section.settings.subtext }}
      </p>
    {%- endif -%}
    
    {%- form 'customer', class: 'mt-10 flex flex-col lg:flex-row gap-4 max-w-lg mx-auto' -%}
      <input type="hidden" name="contact[tags]" value="newsletter">
      <input
        type="email"
        name="contact[email]"
        class="flex-1 py-4 px-4 rounded-sloe border-0 bg-white text-text"
        placeholder="Enter your email"
        aria-label="Email"
        required
      >
      <button
        type="submit"
        class="bg-text text-white font-semibold py-4 px-7 rounded-sloe transition-colors hover:opacity-80"
      >
        {{ section.settings.button_text | default: 'Subscribe' }}
      </button>
    {%- endform -%}

    {%- if form.posted_successfully? -%}
      <div class="newsletter-success mt-4 p-4 bg-white/10 rounded-sloe">
        <p class="text-white">{{ 'newsletter.success' | t }}</p>
      </div>
    {%- endif -%}
  </div>
</section>

{% schema %}
{
  "name": "Newsletter Signup",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Get Smarter Skin Tips (and 10% Off)"
    },
    {
      "type": "textarea",
      "id": "subtext",
      "label": "Subtext",
      "default": "Join our list to get 10% off your first order, plus personalized advice and updates straight from our AI skin expert."
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Subscribe"
    }
  ],
  "presets": [
    {
      "name": "Newsletter Signup"
    }
  ]
}
{% endschema %}